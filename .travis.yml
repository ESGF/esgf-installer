sudo: required

language: python

services:
  - docker

before_install:
- docker pull hill119/esgf_centos6:v1
- docker run --name esgf_install -it -d esgf_centos6 /bin/bash
# - docker run -d -p 127.0.0.1:80:4567 esgf_centos6 /bin/sh -c "cd /root/sinatra; bundle exec foreman start;"
# - docker ps -a
# - docker run carlad/sinatra /bin/sh -c "cd /root/sinatra; bundle exec rake test"

script:
- docker ps -a
- docker exec esgf_install pwd

# language: python
# python:
#   - "2.7"
#
# dist: trusty
# sudo: required
# # command to install dependencies
# install: "pip install -r installer/requirements.txt"
# before_script:
#   - sudo chmod 0777 /usr/local
#   - mkdir -p /esg
#   - sudo chmod 0777 /esg
# script:
#   - pwd
#   - whoami
#   - cd installer
#   - pip install -r requirements.txt
#   - python test_esg_property_manager.py
#   - python test_esg_tomcat.py
#   - python esg_pylint_script.py -a
