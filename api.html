

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Base Components &mdash; esgf-installer alpha documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="esgf-installer alpha documentation" href="index.html"/>
        <link rel="next" title="ESGF Installer Issue Tracking Guidelines" href="issues.html"/>
        <link rel="prev" title="ESGF Command Line Interface" href="usage.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> esgf-installer
          

          
          </a>

          
            
            
              <div class="version">
                3.0.0-alpha
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Installation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html#autoinstaller">Autoinstaller</a></li>
<li class="toctree-l1"><a class="reference internal" href="cert_howto.html">ESGF Certificate Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="usage.html">ESGF Command Line Interface</a></li>
</ul>
<p class="caption"><span class="caption-text">API</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Base Components</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#esg-apache-manager-module">ESG Apache Manager Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#esg-postgres-module">ESG Postgres Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#esg-setup-module">ESG Setup Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#esg-tomcat-module">ESG Tomcat Module</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="#data-node-components">Data Node Components</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#esg-publisher-module">ESG Publisher Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#esg-orp-module">ESG ORP Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#esg-thredds-module">ESG Thredds Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-esg_cert_manager">ESG Cert Manager</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-esg_functions">ESG Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-esg_purge">ESG Purge</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="#index-node-components">Index Node Components</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#esg-search">ESG Search</a></li>
<li class="toctree-l2"><a class="reference internal" href="#solr">Solr</a></li>
<li class="toctree-l2"><a class="reference internal" href="#cog">CoG</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="#idp-node-components">IDP Node Components</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#esg-security">ESG Security</a></li>
<li class="toctree-l2"><a class="reference internal" href="#globus">Globus</a></li>
<li class="toctree-l2"><a class="reference internal" href="#idp">IDP</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Issues</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="issues.html">ESGF Installer Issue Tracking Guidelines</a></li>
</ul>
<p class="caption"><span class="caption-text">Contributing</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="contribute_docs.html">Contributing to Documentation</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">esgf-installer</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Base Components</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/api.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="base-components">
<h1>Base Components<a class="headerlink" href="#base-components" title="Permalink to this headline">¶</a></h1>
<div class="section" id="esg-apache-manager-module">
<h2>ESG Apache Manager Module<a class="headerlink" href="#esg-apache-manager-module" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="esg-postgres-module">
<h2>ESG Postgres Module<a class="headerlink" href="#esg-postgres-module" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="esg-setup-module">
<h2>ESG Setup Module<a class="headerlink" href="#esg-setup-module" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="esg-tomcat-module">
<h2>ESG Tomcat Module<a class="headerlink" href="#esg-tomcat-module" title="Permalink to this headline">¶</a></h2>
</div>
</div>
<div class="section" id="data-node-components">
<h1>Data Node Components<a class="headerlink" href="#data-node-components" title="Permalink to this headline">¶</a></h1>
<div class="section" id="esg-publisher-module">
<h2>ESG Publisher Module<a class="headerlink" href="#esg-publisher-module" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="esg-orp-module">
<h2>ESG ORP Module<a class="headerlink" href="#esg-orp-module" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="esg-thredds-module">
<h2>ESG Thredds Module<a class="headerlink" href="#esg-thredds-module" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-esg_cert_manager">
<span id="esg-cert-manager"></span><h2>ESG Cert Manager<a class="headerlink" href="#module-esg_cert_manager" title="Permalink to this headline">¶</a></h2>
<p>Certificate Management Functions</p>
<dl class="function">
<dt id="esg_cert_manager.backup_existing_certs">
<code class="descclassname">esg_cert_manager.</code><code class="descname">backup_existing_certs</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/esg_cert_manager.html#backup_existing_certs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esg_cert_manager.backup_existing_certs" title="Permalink to this definition">¶</a></dt>
<dd><p>Backup existing SSL certs on system</p>
</dd></dl>

<dl class="function">
<dt id="esg_cert_manager.backup_previous_keystore">
<code class="descclassname">esg_cert_manager.</code><code class="descname">backup_previous_keystore</code><span class="sig-paren">(</span><em>keystore_name</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/esg_cert_manager.html#backup_previous_keystore"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esg_cert_manager.backup_previous_keystore" title="Permalink to this definition">¶</a></dt>
<dd><p>If a previous keystore exists, back it up</p>
</dd></dl>

<dl class="function">
<dt id="esg_cert_manager.bundle_certificates">
<code class="descclassname">esg_cert_manager.</code><code class="descname">bundle_certificates</code><span class="sig-paren">(</span><em>public_cert</em>, <em>ca_chain</em>, <em>idptools_install_dir</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/esg_cert_manager.html#bundle_certificates"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esg_cert_manager.bundle_certificates" title="Permalink to this definition">¶</a></dt>
<dd><p>Create certificate bundle from public cert and cachain</p>
</dd></dl>

<dl class="function">
<dt id="esg_cert_manager.check_associate_cert_with_private_key">
<code class="descclassname">esg_cert_manager.</code><code class="descname">check_associate_cert_with_private_key</code><span class="sig-paren">(</span><em>cert</em>, <em>private_key</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/esg_cert_manager.html#check_associate_cert_with_private_key"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esg_cert_manager.check_associate_cert_with_private_key" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.6)">bool</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="esg_cert_manager.check_cachain_validity">
<code class="descclassname">esg_cert_manager.</code><code class="descname">check_cachain_validity</code><span class="sig-paren">(</span><em>ca_chain_bundle</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/esg_cert_manager.html#check_cachain_validity"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esg_cert_manager.check_cachain_validity" title="Permalink to this definition">¶</a></dt>
<dd><p>Verify that the CA chain is valid</p>
</dd></dl>

<dl class="function">
<dt id="esg_cert_manager.check_for_commercial_ca">
<code class="descclassname">esg_cert_manager.</code><code class="descname">check_for_commercial_ca</code><span class="sig-paren">(</span><em>commercial_ca_directory='/etc/esgfcerts'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/esg_cert_manager.html#check_for_commercial_ca"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esg_cert_manager.check_for_commercial_ca" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks if Commerical CA directory has been created; asks user if they would like proceed with
Commercial CA installation if directory is found</p>
</dd></dl>

<dl class="function">
<dt id="esg_cert_manager.check_keystore">
<code class="descclassname">esg_cert_manager.</code><code class="descname">check_keystore</code><span class="sig-paren">(</span><em>keystore_name</em>, <em>keystore_password</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/esg_cert_manager.html#check_keystore"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esg_cert_manager.check_keystore" title="Permalink to this definition">¶</a></dt>
<dd><p>Check the contents of a given keystore or truststore</p>
</dd></dl>

<dl class="function">
<dt id="esg_cert_manager.convert_per_to_dem">
<code class="descclassname">esg_cert_manager.</code><code class="descname">convert_per_to_dem</code><span class="sig-paren">(</span><em>private_key</em>, <em>key_output_dir</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/esg_cert_manager.html#convert_per_to_dem"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esg_cert_manager.convert_per_to_dem" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert your private key into from PEM to DER format that java likes</p>
</dd></dl>

<dl class="function">
<dt id="esg_cert_manager.copy_cert_to_tomcat_conf">
<code class="descclassname">esg_cert_manager.</code><code class="descname">copy_cert_to_tomcat_conf</code><span class="sig-paren">(</span><em>public_cert</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/esg_cert_manager.html#copy_cert_to_tomcat_conf"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esg_cert_manager.copy_cert_to_tomcat_conf" title="Permalink to this definition">¶</a></dt>
<dd><p>Copy the signed cert to the ESGF Tomcat config directory (i.e. /esg/config/tomcat)</p>
</dd></dl>

<dl class="function">
<dt id="esg_cert_manager.createCertRequest">
<code class="descclassname">esg_cert_manager.</code><code class="descname">createCertRequest</code><span class="sig-paren">(</span><em>pkey</em>, <em>digest='sha256'</em>, <em>**name</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/esg_cert_manager.html#createCertRequest"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esg_cert_manager.createCertRequest" title="Permalink to this definition">¶</a></dt>
<dd><p>source: <a class="reference external" href="https://github.com/pyca/pyopenssl/blob/master/examples/certgen.py">https://github.com/pyca/pyopenssl/blob/master/examples/certgen.py</a></p>
</dd></dl>

<dl class="function">
<dt id="esg_cert_manager.createCertificate">
<code class="descclassname">esg_cert_manager.</code><code class="descname">createCertificate</code><span class="sig-paren">(</span><em>req</em>, <em>issuerCertKey</em>, <em>serial</em>, <em>validityPeriod</em>, <em>digest='sha256'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/esg_cert_manager.html#createCertificate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esg_cert_manager.createCertificate" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a certificate given a certificate request.
Arguments: req        - Certificate request to use</p>
<blockquote>
<div><p>issuerCert - The certificate of the issuer
issuerKey  - The private key of the issuer
serial     - Serial number for the certificate
notBefore  - Timestamp (relative to now) when the certificate</p>
<blockquote>
<div>starts being valid</div></blockquote>
<dl class="docutils">
<dt>notAfter   - Timestamp (relative to now) when the certificate</dt>
<dd>stops being valid</dd>
</dl>
<p>digest     - Digest method to use for signing, default is sha256</p>
</div></blockquote>
<p>Returns:   The signed certificate in an X509 object</p>
</dd></dl>

<dl class="function">
<dt id="esg_cert_manager.createKeyPair">
<code class="descclassname">esg_cert_manager.</code><code class="descname">createKeyPair</code><span class="sig-paren">(</span><em>type</em>, <em>bits</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/esg_cert_manager.html#createKeyPair"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esg_cert_manager.createKeyPair" title="Permalink to this definition">¶</a></dt>
<dd><p>source: <a class="reference external" href="https://github.com/pyca/pyopenssl/blob/master/examples/certgen.py">https://github.com/pyca/pyopenssl/blob/master/examples/certgen.py</a></p>
</dd></dl>

<dl class="function">
<dt id="esg_cert_manager.create_certificate_chain">
<code class="descclassname">esg_cert_manager.</code><code class="descname">create_certificate_chain</code><span class="sig-paren">(</span><em>cert_files</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/esg_cert_manager.html#create_certificate_chain"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esg_cert_manager.create_certificate_chain" title="Permalink to this definition">¶</a></dt>
<dd><p>Concatenate the certificates in the chain and copy them to /etc/certs</p>
</dd></dl>

<dl class="function">
<dt id="esg_cert_manager.create_certificate_chain_list">
<code class="descclassname">esg_cert_manager.</code><code class="descname">create_certificate_chain_list</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/esg_cert_manager.html#create_certificate_chain_list"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esg_cert_manager.create_certificate_chain_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a list of the certificates that will be a part of the certificate
chain file</p>
</dd></dl>

<dl class="function">
<dt id="esg_cert_manager.create_empty_java_keystore">
<code class="descclassname">esg_cert_manager.</code><code class="descname">create_empty_java_keystore</code><span class="sig-paren">(</span><em>keystore_name</em>, <em>keystore_alias</em>, <em>keystore_password</em>, <em>distinguished_name</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/esg_cert_manager.html#create_empty_java_keystore"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esg_cert_manager.create_empty_java_keystore" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a new empty Java Keystore using the JDK&#8217;s keytool</p>
</dd></dl>

<dl class="function">
<dt id="esg_cert_manager.create_new_truststore">
<code class="descclassname">esg_cert_manager.</code><code class="descname">create_new_truststore</code><span class="sig-paren">(</span><em>truststore_file</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/esg_cert_manager.html#create_new_truststore"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esg_cert_manager.create_new_truststore" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a new Java Truststore file by copying the JRE&#8217;s cacerts file</p>
</dd></dl>

<dl class="function">
<dt id="esg_cert_manager.create_self_signed_cert">
<code class="descclassname">esg_cert_manager.</code><code class="descname">create_self_signed_cert</code><span class="sig-paren">(</span><em>cert_dir</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/esg_cert_manager.html#create_self_signed_cert"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esg_cert_manager.create_self_signed_cert" title="Permalink to this definition">¶</a></dt>
<dd><p>If datacard.crt and datacard.key don&#8217;t exist in cert_dir, create a new
self-signed cert and keypair and write them into that directory.</p>
<p>Source: <a class="reference external" href="https://skippylovesmalorie.wordpress.com/2010/02/12/how-to-generate-a-self-signed-certificate-using-pyopenssl/">https://skippylovesmalorie.wordpress.com/2010/02/12/how-to-generate-a-self-signed-certificate-using-pyopenssl/</a></p>
</dd></dl>

<dl class="function">
<dt id="esg_cert_manager.fetch_esgf_certificates">
<code class="descclassname">esg_cert_manager.</code><code class="descname">fetch_esgf_certificates</code><span class="sig-paren">(</span><em>globus_certs_dir='/etc/grid-security/certificates'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/esg_cert_manager.html#fetch_esgf_certificates"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esg_cert_manager.fetch_esgf_certificates" title="Permalink to this definition">¶</a></dt>
<dd><p>Goes to ESG distribution server and pulls down all certificates for the federation.
(suitable for crontabbing)</p>
</dd></dl>

<dl class="function">
<dt id="esg_cert_manager.generate_tomcat_keystore">
<code class="descclassname">esg_cert_manager.</code><code class="descname">generate_tomcat_keystore</code><span class="sig-paren">(</span><em>keystore_name</em>, <em>keystore_alias</em>, <em>private_key</em>, <em>public_cert</em>, <em>intermediate_certs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/esg_cert_manager.html#generate_tomcat_keystore"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esg_cert_manager.generate_tomcat_keystore" title="Permalink to this definition">¶</a></dt>
<dd><p>The following helper function creates a new keystore for your tomcat installation</p>
</dd></dl>

<dl class="function">
<dt id="esg_cert_manager.import_cert_into_keystore">
<code class="descclassname">esg_cert_manager.</code><code class="descname">import_cert_into_keystore</code><span class="sig-paren">(</span><em>keystore_name</em>, <em>keystore_alias</em>, <em>keystore_password</em>, <em>derkey</em>, <em>cert_bundle</em>, <em>provider</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/esg_cert_manager.html#import_cert_into_keystore"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esg_cert_manager.import_cert_into_keystore" title="Permalink to this definition">¶</a></dt>
<dd><p>Imports a signed Certificate into the keystore</p>
</dd></dl>

<dl class="function">
<dt id="esg_cert_manager.install_commerical_certs">
<code class="descclassname">esg_cert_manager.</code><code class="descname">install_commerical_certs</code><span class="sig-paren">(</span><em>commercial_key_path</em>, <em>commercial_cert_path</em>, <em>ca_chain_path</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/esg_cert_manager.html#install_commerical_certs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esg_cert_manager.install_commerical_certs" title="Permalink to this definition">¶</a></dt>
<dd><p>Install the signed, commericial SSL credentials to /etc/certs</p>
</dd></dl>

<dl class="function">
<dt id="esg_cert_manager.install_extkeytool">
<code class="descclassname">esg_cert_manager.</code><code class="descname">install_extkeytool</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/esg_cert_manager.html#install_extkeytool"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esg_cert_manager.install_extkeytool" title="Permalink to this definition">¶</a></dt>
<dd><p>Install the Extkeytool from the distribution mirror</p>
</dd></dl>

<dl class="function">
<dt id="esg_cert_manager.install_tomcat_keypair">
<code class="descclassname">esg_cert_manager.</code><code class="descname">install_tomcat_keypair</code><span class="sig-paren">(</span><em>private_key='/etc/esgfcerts/hostkey.pem'</em>, <em>public_cert='/etc/esgfcerts/hostcert.pem'</em>, <em>keystore_name='/esg/config/tomcat/keystore-tomcat'</em>, <em>keystore_alias='my_esgf_node'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/esg_cert_manager.html#install_tomcat_keypair"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esg_cert_manager.install_tomcat_keypair" title="Permalink to this definition">¶</a></dt>
<dd><p>If you want to install a commercial CA issued certificate:
esg-node &#8211;install-keypair &lt;certificate file&gt; &lt;key file&gt;
When prompted for the cachain file, specify the chain file provided by your CA</p>
</dd></dl>

<dl class="function">
<dt id="esg_cert_manager.new_ca">
<code class="descclassname">esg_cert_manager.</code><code class="descname">new_ca</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/esg_cert_manager.html#new_ca"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esg_cert_manager.new_ca" title="Permalink to this definition">¶</a></dt>
<dd><p>Mimics perl CA.pl -newca</p>
</dd></dl>

<dl class="function">
<dt id="esg_cert_manager.newreq_nodes">
<code class="descclassname">esg_cert_manager.</code><code class="descname">newreq_nodes</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/esg_cert_manager.html#newreq_nodes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esg_cert_manager.newreq_nodes" title="Permalink to this definition">¶</a></dt>
<dd><p>Mimics perl CA.pl -newreq-nodes</p>
</dd></dl>

<dl class="function">
<dt id="esg_cert_manager.rebuild_truststore">
<code class="descclassname">esg_cert_manager.</code><code class="descname">rebuild_truststore</code><span class="sig-paren">(</span><em>truststore_file</em>, <em>certs_dir='/etc/grid-security/certificates'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/esg_cert_manager.html#rebuild_truststore"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esg_cert_manager.rebuild_truststore" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts ESG certificates (that can be fetch by above function) into a truststore</p>
</dd></dl>

<dl class="function">
<dt id="esg_cert_manager.sign_request">
<code class="descclassname">esg_cert_manager.</code><code class="descname">sign_request</code><span class="sig-paren">(</span><em>ca_req</em>, <em>req_key</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/esg_cert_manager.html#sign_request"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esg_cert_manager.sign_request" title="Permalink to this definition">¶</a></dt>
<dd><p>Mimics perl CA.pl -sign</p>
</dd></dl>

</div>
<div class="section" id="module-esg_functions">
<span id="esg-functions"></span><h2>ESG Functions<a class="headerlink" href="#module-esg_functions" title="Permalink to this headline">¶</a></h2>
<p>esg-functions: ESGF Node Application Stack Functions
description: Installer Functions for the ESGF Node application stack</p>
<dl class="function">
<dt id="esg_functions.add_group">
<code class="descclassname">esg_functions.</code><code class="descname">add_group</code><span class="sig-paren">(</span><em>group_name</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/esg_functions.html#add_group"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esg_functions.add_group" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a Unix user group</p>
</dd></dl>

<dl class="function">
<dt id="esg_functions.add_user">
<code class="descclassname">esg_functions.</code><code class="descname">add_user</code><span class="sig-paren">(</span><em>name</em>, <em>password=''</em>, <em>group=''</em>, <em>full_name=''</em>, <em>home_dir=''</em>, <em>shell=''</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/esg_functions.html#add_user"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esg_functions.add_user" title="Permalink to this definition">¶</a></dt>
<dd><p>Add Unix user</p>
</dd></dl>

<dl class="function">
<dt id="esg_functions.backup">
<code class="descclassname">esg_functions.</code><code class="descname">backup</code><span class="sig-paren">(</span><em>path</em>, <em>backup_dir='/esg/backups'</em>, <em>num_of_backups='7'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/esg_functions.html#backup"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esg_functions.backup" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a directory the contents of the directory is backed up as a tar.gz file in
path - a filesystem path
backup_dir - destination directory for putting backup archive (default esg_backup_dir:-/esg/backups)
num_of_backups - the number of backup files you wish to have present in destination directory (default num_backups_to_keep:-7)</p>
</dd></dl>

<dl class="function">
<dt id="esg_functions.call_subprocess">
<code class="descclassname">esg_functions.</code><code class="descname">call_subprocess</code><span class="sig-paren">(</span><em>command_string</em>, <em>command_stdin=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/esg_functions.html#call_subprocess"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esg_functions.call_subprocess" title="Permalink to this definition">¶</a></dt>
<dd><p>Mimics subprocess.call; Need this on CentOS 6 because system Python is 2.6, which doesn&#8217;t have subprocess.call()</p>
</dd></dl>

<dl class="function">
<dt id="esg_functions.change_ownership_recursive">
<code class="descclassname">esg_functions.</code><code class="descname">change_ownership_recursive</code><span class="sig-paren">(</span><em>directory_path</em>, <em>uid=-1</em>, <em>gid=-1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/esg_functions.html#change_ownership_recursive"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esg_functions.change_ownership_recursive" title="Permalink to this definition">¶</a></dt>
<dd><p>Recursively changes ownership on a directory and its subdirectories; Mimics chown -R</p>
</dd></dl>

<dl class="function">
<dt id="esg_functions.change_permissions_recursive">
<code class="descclassname">esg_functions.</code><code class="descname">change_permissions_recursive</code><span class="sig-paren">(</span><em>path</em>, <em>mode</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/esg_functions.html#change_permissions_recursive"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esg_functions.change_permissions_recursive" title="Permalink to this definition">¶</a></dt>
<dd><p>Recursively changes permissions on a directory and its subdirectories; Mimics chmod -R</p>
</dd></dl>

<dl class="function">
<dt id="esg_functions.check_for_update">
<code class="descclassname">esg_functions.</code><code class="descname">check_for_update</code><span class="sig-paren">(</span><em>filename_1</em>, <em>filename_2=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/esg_functions.html#check_for_update"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esg_functions.check_for_update" title="Permalink to this definition">¶</a></dt>
<dd><p>Does an md5 check between local and remote resource
returns 0 (success) iff there is no match and thus indicating that
an update is available.
USAGE: checked_for_update [file] <a class="reference external" href="http://www.foo.com/file">http://www.foo.com/file</a></p>
</dd></dl>

<dl class="function">
<dt id="esg_functions.check_shmmax">
<code class="descclassname">esg_functions.</code><code class="descname">check_shmmax</code><span class="sig-paren">(</span><em>min_shmmax=48</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/esg_functions.html#check_shmmax"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esg_functions.check_shmmax" title="Permalink to this definition">¶</a></dt>
<dd><p>NOTE: This is another <strong>RedHat/CentOS</strong> specialty thing (sort of)
arg1 - min value of shmmax in MB (see: /etc/sysctl.conf)</p>
</dd></dl>

<dl class="function">
<dt id="esg_functions.confirm_password">
<code class="descclassname">esg_functions.</code><code class="descname">confirm_password</code><span class="sig-paren">(</span><em>password_input</em>, <em>password_confirmation</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/esg_functions.html#confirm_password"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esg_functions.confirm_password" title="Permalink to this definition">¶</a></dt>
<dd><p>Helper function to confirm that passwords match.
Returns true if passwords match</p>
</dd></dl>

<dl class="function">
<dt id="esg_functions.create_backup_file">
<code class="descclassname">esg_functions.</code><code class="descname">create_backup_file</code><span class="sig-paren">(</span><em>file_name</em>, <em>backup_extension='.bak'</em>, <em>date='2018-04-10'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/esg_functions.html#create_backup_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esg_functions.create_backup_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a backup of a file using the given backup extension</p>
</dd></dl>

<dl class="function">
<dt id="esg_functions.download_update">
<code class="descclassname">esg_functions.</code><code class="descname">download_update</code><span class="sig-paren">(</span><em>local_file</em>, <em>remote_file=None</em>, <em>force_download=False</em>, <em>make_backup_file=False</em>, <em>use_local_files=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/esg_functions.html#download_update"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esg_functions.download_update" title="Permalink to this definition">¶</a></dt>
<dd><p>If an update is available then pull it down... then check the md5 sums again!</p>
<p>Yes, this results in 3 network calls to pull down a file, but it
saves total bandwidth and it also allows the updating from the
network process to be cronttab-able while parsimonious with
resources.  It is also very good practice to make sure that code
being executed is the RIGHT code!</p>
<p>The 3rd token is the &#8220;force&#8221; flag value 1|0.
1 = do not check for update, directly go and fetch the file regardless
0 = first check for update availability. (default)</p>
<p>The 4th token is for indicated whether a backup file should be made flag value 1|0.
1 = yes, create a .bak file if the file is already there before fetching new
0 = no, do NOT make a .bak file even if the file is already there, overwrite it</p>
<p>(When using the force flag you MUST specify the first two args!!)</p>
<dl class="docutils">
<dt>NOTE: Has multiple return values test for (( $? &gt; 1 )) when looking or errors</dt>
<dd>A return value of 1 only means that the file is up-to-date and there
Is no reason to fetch it.</dd>
</dl>
<p>USAGE: checked_get [file] <a class="reference external" href="http://www.foo.com/file">http://www.foo.com/file</a> [&lt;1|0&gt;] [&lt;1|0&gt;]</p>
</dd></dl>

<dl class="function">
<dt id="esg_functions.fetch_remote_file">
<code class="descclassname">esg_functions.</code><code class="descname">fetch_remote_file</code><span class="sig-paren">(</span><em>local_file</em>, <em>remote_file</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/esg_functions.html#fetch_remote_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esg_functions.fetch_remote_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Download a remote file from a distribution mirror and write its contents to the local_file</p>
</dd></dl>

<dl class="function">
<dt id="esg_functions.get_dir_owner_and_group">
<code class="descclassname">esg_functions.</code><code class="descname">get_dir_owner_and_group</code><span class="sig-paren">(</span><em>path</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/esg_functions.html#get_dir_owner_and_group"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esg_functions.get_dir_owner_and_group" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a tuple containing the owner and group of the given directory path</p>
</dd></dl>

<dl class="function">
<dt id="esg_functions.get_esgf_host">
<code class="descclassname">esg_functions.</code><code class="descname">get_esgf_host</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/esg_functions.html#get_esgf_host"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esg_functions.get_esgf_host" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the esgf host name from the file; if not in file, return the fully qualified domain name (FQDN)</p>
</dd></dl>

<dl class="function">
<dt id="esg_functions.get_group_id">
<code class="descclassname">esg_functions.</code><code class="descname">get_group_id</code><span class="sig-paren">(</span><em>group_name</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/esg_functions.html#get_group_id"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esg_functions.get_group_id" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the id of the Unix group</p>
</dd></dl>

<dl class="function">
<dt id="esg_functions.get_group_list">
<code class="descclassname">esg_functions.</code><code class="descname">get_group_list</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/esg_functions.html#get_group_list"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esg_functions.get_group_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of the Unix groups on the system</p>
</dd></dl>

<dl class="function">
<dt id="esg_functions.get_java_keystore_password">
<code class="descclassname">esg_functions.</code><code class="descname">get_java_keystore_password</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/esg_functions.html#get_java_keystore_password"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esg_functions.get_java_keystore_password" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the keystore_password from the saved ks_secret_file at /esg/config/.esg_keystore_pass</p>
</dd></dl>

<dl class="function">
<dt id="esg_functions.get_md5sum">
<code class="descclassname">esg_functions.</code><code class="descname">get_md5sum</code><span class="sig-paren">(</span><em>file_name</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/esg_functions.html#get_md5sum"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esg_functions.get_md5sum" title="Permalink to this definition">¶</a></dt>
<dd><p>#Utility function, wraps md5sum so it may be used on either mac or
#linux machines</p>
</dd></dl>

<dl class="function">
<dt id="esg_functions.get_md5sum_password">
<code class="descclassname">esg_functions.</code><code class="descname">get_md5sum_password</code><span class="sig-paren">(</span><em>password</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/esg_functions.html#get_md5sum_password"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esg_functions.get_md5sum_password" title="Permalink to this definition">¶</a></dt>
<dd><p>Hash a password to get it&#8217;s md5 value</p>
</dd></dl>

<dl class="function">
<dt id="esg_functions.get_postgres_password">
<code class="descclassname">esg_functions.</code><code class="descname">get_postgres_password</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/esg_functions.html#get_postgres_password"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esg_functions.get_postgres_password" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the Postgres superuser account password from /esg/config/.esg_pg_pass</p>
</dd></dl>

<dl class="function">
<dt id="esg_functions.get_publisher_password">
<code class="descclassname">esg_functions.</code><code class="descname">get_publisher_password</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/esg_functions.html#get_publisher_password"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esg_functions.get_publisher_password" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the publisher database user&#8217;s password</p>
</dd></dl>

<dl class="function">
<dt id="esg_functions.get_security_admin_password">
<code class="descclassname">esg_functions.</code><code class="descname">get_security_admin_password</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/esg_functions.html#get_security_admin_password"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esg_functions.get_security_admin_password" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the security_admin_password from the esgf_secret_file</p>
</dd></dl>

<dl class="function">
<dt id="esg_functions.get_tomcat_group_id">
<code class="descclassname">esg_functions.</code><code class="descname">get_tomcat_group_id</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/esg_functions.html#get_tomcat_group_id"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esg_functions.get_tomcat_group_id" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the id of the Tomcat group</p>
</dd></dl>

<dl class="function">
<dt id="esg_functions.get_tomcat_user_id">
<code class="descclassname">esg_functions.</code><code class="descname">get_tomcat_user_id</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/esg_functions.html#get_tomcat_user_id"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esg_functions.get_tomcat_user_id" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the id of the Tomcat user</p>
</dd></dl>

<dl class="function">
<dt id="esg_functions.get_user_id">
<code class="descclassname">esg_functions.</code><code class="descname">get_user_id</code><span class="sig-paren">(</span><em>user_name</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/esg_functions.html#get_user_id"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esg_functions.get_user_id" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the id of the Unix user</p>
</dd></dl>

<dl class="function">
<dt id="esg_functions.get_user_list">
<code class="descclassname">esg_functions.</code><code class="descname">get_user_list</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/esg_functions.html#get_user_list"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esg_functions.get_user_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of the Unix users on the system</p>
</dd></dl>

<dl class="function">
<dt id="esg_functions.git_tagrelease">
<code class="descclassname">esg_functions.</code><code class="descname">git_tagrelease</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/esg_functions.html#git_tagrelease"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esg_functions.git_tagrelease" title="Permalink to this definition">¶</a></dt>
<dd><p>Makes a commit to the current git repository updating the
release version string and codename, tags that commit with the
version string, and then immediately makes another commit
appending &#8220;-devel&#8221; to the version string.</p>
<p>This is to prepare for a release merge.  Note that the tag will
not be against the correct revision after a merge to the release
branch if it was not a fast-forward merge, so ensure that there
are no unmerged changes from the release branch before using.</p>
<p>If that happens, delete the tag, issue a git reset &#8211;hard
against the last commit before the tag, merge the release
branch, and try again.</p>
<p>Arguments:
$1: the release version string (mandatory)
$2: the release codename (optional)</p>
<dl class="docutils">
<dt>Examples:</dt>
<dd>git-tagrelease v4.5.6 AuthenticGreekPizzaEdition</dd>
<dt>or just</dt>
<dd>git-tagrelease v4.5.6</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="esg_functions.is_in_git_repo">
<code class="descclassname">esg_functions.</code><code class="descname">is_in_git_repo</code><span class="sig-paren">(</span><em>file_name</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/esg_functions.html#is_in_git_repo"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esg_functions.is_in_git_repo" title="Permalink to this definition">¶</a></dt>
<dd><p>This determines if a specified file is in a git repository.
This function will resolve symlinks and check for a .git
directory in the directory of the actual file as well as its
parent to avoid attempting to call git unless absolutely needed,
so as to be able to detect some common cases on a system without
git actually installed and in the path.</p>
<p>Accepts as an argument the file to be checked</p>
<p>Returns True if the specified file is in a git repository</p>
<p>Returns False otherwise</p>
</dd></dl>

<dl class="function">
<dt id="esg_functions.path_unique">
<code class="descclassname">esg_functions.</code><code class="descname">path_unique</code><span class="sig-paren">(</span><em>path_string='//anaconda/envs/esgf-pub/bin://anaconda/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/opt/X11/bin:/usr/local/ant/bin'</em>, <em>path_separator=':'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/esg_functions.html#path_unique"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esg_functions.path_unique" title="Permalink to this definition">¶</a></dt>
<dd><p>Prints a unique path string</p>
<p>The first (leftmost) instance of a path entry will be the one that
is preserved.</p>
<p>If $1 is specified, it will be taken as the string to deduplicate,
otherwise $PATH is used.</p>
<p>If $2 is specified, it will be taken as the path separator, which
otherwise defaults to &#8216;:&#8217;</p>
</dd></dl>

<dl class="function">
<dt id="esg_functions.prefix_to_path">
<code class="descclassname">esg_functions.</code><code class="descname">prefix_to_path</code><span class="sig-paren">(</span><em>path</em>, <em>prepend_value</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/esg_functions.html#prefix_to_path"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esg_functions.prefix_to_path" title="Permalink to this definition">¶</a></dt>
<dd><p>Prepends path components to a variable, deduplicates the list,
then prints to stdout the export command required to prepend
that list to that variable.</p>
<p>Takes as arguments first a variable containing a colon-separated
path to prepend to, then a space-separated collection of paths to
prepend &#8211; these path components MUST NOT contain spaces.</p>
<p>If insufficient arguments are present, a warning message is
printed to stderr and nothing is printed to stdout.</p>
<dl class="docutils">
<dt>Example:</dt>
<dd><p class="first">prefix_to_path LD_LIBRARY_PATH /foo/lib /bar/lib</p>
<dl class="last docutils">
<dt>Would result in the entry:</dt>
<dd>export LD_LIBRARY_PATH=/foo/lib:/bar/lib:$LD_LIBRARY_PATH</dd>
</dl>
</dd>
<dt>NOTE: In the context of system setup this is usually</dt>
<dd>WHAT YOU WANT; that your libs are found before any user libs are</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="esg_functions.readlinkf">
<code class="descclassname">esg_functions.</code><code class="descname">readlinkf</code><span class="sig-paren">(</span><em>file_name</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/esg_functions.html#readlinkf"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esg_functions.readlinkf" title="Permalink to this definition">¶</a></dt>
<dd><p>This is a portable implementation of GNU&#8217;s &#8220;readlink -f&#8221; in
bash/zsh, following symlinks recursively until they end in a
file, and will print the full dereferenced path of the specified
file even if the file isn&#8217;t a symlink.</p>
<p>Loop detection exists, but only as an abort after passing a
maximum length.</p>
</dd></dl>

<dl class="function">
<dt id="esg_functions.replace_string_in_file">
<code class="descclassname">esg_functions.</code><code class="descname">replace_string_in_file</code><span class="sig-paren">(</span><em>file_name</em>, <em>original_string</em>, <em>new_string</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/esg_functions.html#replace_string_in_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esg_functions.replace_string_in_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Goes into a file and replaces string</p>
</dd></dl>

<dl class="function">
<dt id="esg_functions.set_java_keystore_password">
<code class="descclassname">esg_functions.</code><code class="descname">set_java_keystore_password</code><span class="sig-paren">(</span><em>keystore_password=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/esg_functions.html#set_java_keystore_password"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esg_functions.set_java_keystore_password" title="Permalink to this definition">¶</a></dt>
<dd><p>Saves the password for a Java keystore to /esg/config/.esg_keystore_pass</p>
</dd></dl>

<dl class="function">
<dt id="esg_functions.set_postgres_password">
<code class="descclassname">esg_functions.</code><code class="descname">set_postgres_password</code><span class="sig-paren">(</span><em>password</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/esg_functions.html#set_postgres_password"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esg_functions.set_postgres_password" title="Permalink to this definition">¶</a></dt>
<dd><p>Updates the Postgres superuser account password; gets saved to /esg/config/.esg_pg_pass</p>
</dd></dl>

<dl class="function">
<dt id="esg_functions.set_publisher_password">
<code class="descclassname">esg_functions.</code><code class="descname">set_publisher_password</code><span class="sig-paren">(</span><em>password=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/esg_functions.html#set_publisher_password"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esg_functions.set_publisher_password" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the publisher database user&#8217;s password; saves it to pub_secret_file
If not password is provided as an argument, a prompt for a password is given.</p>
</dd></dl>

<dl class="function">
<dt id="esg_functions.set_security_admin_password">
<code class="descclassname">esg_functions.</code><code class="descname">set_security_admin_password</code><span class="sig-paren">(</span><em>updated_password</em>, <em>password_file='/esg/config/.esgf_pass'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/esg_functions.html#set_security_admin_password"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esg_functions.set_security_admin_password" title="Permalink to this definition">¶</a></dt>
<dd><p>Updates the esgf_secret_file</p>
</dd></dl>

<dl class="function">
<dt id="esg_functions.setup_whitelist_files">
<code class="descclassname">esg_functions.</code><code class="descname">setup_whitelist_files</code><span class="sig-paren">(</span><em>esg_dist_url_root</em>, <em>whitelist_file_dir='/esg/config'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/esg_functions.html#setup_whitelist_files"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esg_functions.setup_whitelist_files" title="Permalink to this definition">¶</a></dt>
<dd><p>Setups up whitelist XML files from the distribution mirror</p>
</dd></dl>

<dl class="function">
<dt id="esg_functions.stream_subprocess_output">
<code class="descclassname">esg_functions.</code><code class="descname">stream_subprocess_output</code><span class="sig-paren">(</span><em>command_string</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/esg_functions.html#stream_subprocess_output"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esg_functions.stream_subprocess_output" title="Permalink to this definition">¶</a></dt>
<dd><p>Print out the stdout of the subprocess in real time</p>
</dd></dl>

<dl class="function">
<dt id="esg_functions.track_extraction_progress">
<code class="descclassname">esg_functions.</code><code class="descname">track_extraction_progress</code><span class="sig-paren">(</span><em>members</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/esg_functions.html#track_extraction_progress"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esg_functions.track_extraction_progress" title="Permalink to this definition">¶</a></dt>
<dd><p>Output of the files being extracted from a tarball</p>
</dd></dl>

<dl class="function">
<dt id="esg_functions.verify_esg_node_script">
<code class="descclassname">esg_functions.</code><code class="descname">verify_esg_node_script</code><span class="sig-paren">(</span><em>esg_node_filename</em>, <em>esg_dist_url_root</em>, <em>script_version</em>, <em>script_maj_version</em>, <em>devel</em>, <em>update_action=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/esg_functions.html#verify_esg_node_script"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#esg_functions.verify_esg_node_script" title="Permalink to this definition">¶</a></dt>
<dd><p>Verify the esg_node script is the most current version</p>
</dd></dl>

</div>
<div class="section" id="module-esg_purge">
<span id="esg-purge"></span><h2>ESG Purge<a class="headerlink" href="#module-esg_purge" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="esg_purge.purge_postgres">
<code class="descclassname">esg_purge.</code><code class="descname">purge_postgres</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#esg_purge.purge_postgres" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes postgres installation via yum</p>
</dd></dl>

</div>
</div>
<div class="section" id="index-node-components">
<h1>Index Node Components<a class="headerlink" href="#index-node-components" title="Permalink to this headline">¶</a></h1>
<div class="section" id="esg-search">
<h2>ESG Search<a class="headerlink" href="#esg-search" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="solr">
<h2>Solr<a class="headerlink" href="#solr" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="cog">
<h2>CoG<a class="headerlink" href="#cog" title="Permalink to this headline">¶</a></h2>
</div>
</div>
<div class="section" id="idp-node-components">
<h1>IDP Node Components<a class="headerlink" href="#idp-node-components" title="Permalink to this headline">¶</a></h1>
<div class="section" id="esg-security">
<h2>ESG Security<a class="headerlink" href="#esg-security" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="globus">
<h2>Globus<a class="headerlink" href="#globus" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="idp">
<h2>IDP<a class="headerlink" href="#idp" title="Permalink to this headline">¶</a></h2>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="issues.html" class="btn btn-neutral float-right" title="ESGF Installer Issue Tracking Guidelines" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="usage.html" class="btn btn-neutral" title="ESGF Command Line Interface" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017, William Hill.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'alpha',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: ''
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>